--- !omap
- addresses#create:
  - !omap
    - verb: :POST
    - path: /api/addresses.json
    - versions:
      - v1
    - query: 
    - request_data:
        address:
          code_name: Office
          address1: 21 rue d'Aboukir
          zip: '75002'
          city: Paris
          country_id: '514205109'
    - response_data:
        address:
          id: 480832712
          code_name: Office
          address1: 21 rue d'Aboukir
          zip: '75002'
          city: Paris
          country: France
          phones: []
    - code: '201'
    - show_in_doc: 1
    - recorded: true
  - !omap
    - verb: :POST
    - path: /api/addresses.json
    - versions:
      - v1
    - query: 
    - request_data:
        address: {}
    - response_data:
        country:
        - can't be blank
        address1:
        - can't be blank
        zip:
        - can't be blank
        city:
        - can't be blank
    - code: '422'
    - show_in_doc: 0
    - recorded: true
- addresses#destroy:
  - !omap
    - verb: :DELETE
    - path: /api/addresses/480832711.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data: 
    - code: '204'
    - show_in_doc: 1
    - recorded: true
- addresses#index:
  - !omap
    - verb: :GET
    - path: /api/addresses.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
      - id: 480832711
        code_name: Chateau
        address1: 14 bd du Chateau
        zip: '92200'
        city: Neuilly
        country: France
        is_default: 1
        phones: []
    - code: '200'
    - show_in_doc: 1
    - recorded: true
- addresses#show:
  - !omap
    - verb: :GET
    - path: /api/addresses/480832711.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
        address:
          id: 480832711
          code_name: Chateau
          address1: 14 bd du Chateau
          zip: '92200'
          city: Neuilly
          country: France
          is_default: 1
          phones: []
    - code: '200'
    - show_in_doc: 1
    - recorded: true
  - !omap
    - verb: :GET
    - path: /api/addresses/123456.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
        error: ActiveRecord::RecordNotFound
    - code: '404'
    - show_in_doc: 0
    - recorded: true
- addresses#update:
  - !omap
    - verb: :PUT
    - path: /api/addresses/480832711.json
    - versions:
      - v1
    - query: 
    - request_data:
        address:
          address1: ''
    - response_data:
        address1:
        - can't be blank
    - code: '422'
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :PUT
    - path: /api/addresses/480832711.json
    - versions:
      - v1
    - query: 
    - request_data:
        address:
          address2: RDC porte gauche
    - response_data: 
    - code: '204'
    - show_in_doc: 1
    - recorded: true
- home#index:
  - !omap
    - verb: :GET
    - path: /home/index
    - versions: []
    - query: ''
    - request_data: 
    - response_data: 
    - code: '200'
    - show_in_doc: 0
    - recorded: true
- payment_cards#create:
  - !omap
    - verb: :POST
    - path: /api/payment_cards.json
    - versions:
      - v1
    - query: 
    - request_data:
        payment_card:
          user_id: '745494609'
          number: '1234123412341234'
          exp_month: '02'
          exp_year: '2015'
          cvv: '123'
    - response_data:
        payment_card:
          id: 727572249
          number: '1234123412341234'
          name: 
          exp_month: '02'
          exp_year: '2015'
    - code: '201'
    - show_in_doc: 1
    - recorded: true
  - !omap
    - verb: :POST
    - path: /api/payment_cards.json
    - versions:
      - v1
    - query: 
    - request_data:
        payment_card: {}
    - response_data:
        number:
        - can't be blank
        - is the wrong length (should be 16 characters)
        exp_month:
        - can't be blank
        - is the wrong length (should be 2 characters)
        exp_year:
        - can't be blank
        - is the wrong length (should be 4 characters)
        cvv:
        - can't be blank
        - is the wrong length (should be 3 characters)
    - code: '422'
    - show_in_doc: 0
    - recorded: true
- payment_cards#destroy:
  - !omap
    - verb: :DELETE
    - path: /api/payment_cards/727572248.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data: 
    - code: '204'
    - show_in_doc: 1
    - recorded: true
- payment_cards#index:
  - !omap
    - verb: :GET
    - path: /api/payment_cards.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
      - id: 727572248
        number: '4970100000000154'
        name: HSBC
        exp_month: '2'
        exp_year: '2015'
    - code: '200'
    - show_in_doc: 1
    - recorded: true
- payment_cards#show:
  - !omap
    - verb: :GET
    - path: /api/payment_cards/727572248.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
        payment_card:
          id: 727572248
          number: '4970100000000154'
          name: HSBC
          exp_month: '2'
          exp_year: '2015'
    - code: '200'
    - show_in_doc: 1
    - recorded: true
- phones#create:
  - !omap
    - verb: :POST
    - path: /api/phones.json
    - versions:
      - v1
    - query: 
    - request_data:
        phone:
          number: 0640381383
          line_type: '1'
    - response_data:
        phone:
          id: 752488299
          number: 0640381383
          line_type: 1
          address_id: 
    - code: '201'
    - show_in_doc: 1
    - recorded: true
  - !omap
    - verb: :POST
    - path: /api/phones.json
    - versions:
      - v1
    - query: 
    - request_data:
        phone: {}
    - response_data:
        number:
        - can't be blank
        line_type:
        - can't be blank
        - is not included in the list
    - code: '422'
    - show_in_doc: 0
    - recorded: true
- phones#destroy:
  - !omap
    - verb: :DELETE
    - path: /api/phones/417264221.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data: 
    - code: '204'
    - show_in_doc: 1
    - recorded: true
- phones#index:
  - !omap
    - verb: :GET
    - path: /api/phones.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
      - id: 417264221
        number: 0940404040
        line_type: 0
        address_id: 480832711
      - id: 752488298
        number: 0646403619
        line_type: 1
        address_id: 
    - code: '200'
    - show_in_doc: 1
    - recorded: true
- phones#show:
  - !omap
    - verb: :GET
    - path: /api/phones/417264221.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
        phone:
          id: 417264221
          number: 0940404040
          line_type: 0
          address_id: 480832711
    - code: '200'
    - show_in_doc: 1
    - recorded: true
- phones#update:
  - !omap
    - verb: :PUT
    - path: /api/phones/417264221.json
    - versions:
      - v1
    - query: 
    - request_data:
        phone:
          number: ''
    - response_data:
        number:
        - can't be blank
    - code: '422'
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :PUT
    - path: /api/phones/417264221.json
    - versions:
      - v1
    - query: 
    - request_data:
        phone:
          number: '0646403610'
    - response_data: 
    - code: '204'
    - show_in_doc: 1
    - recorded: true
- registrations#create:
  - !omap
    - verb: :POST
    - path: /api/users.json
    - versions:
      - v1
    - query: 
    - request_data:
        user: {}
    - response_data:
        email:
        - can't be blank
        password:
        - can't be blank
        first_name:
        - can't be blank
        last_name:
        - can't be blank
        birthdate:
        - can't be blank
        nationality:
        - can't be blank
        civility:
        - can't be blank
        - is not included in the list
        base:
        - You must be at least 16 years old to register
    - code: '422'
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :POST
    - path: /api/users.json
    - versions:
      - v1
    - query: 
    - request_data:
        user:
          email: willfail@gmail.com
          password: tototo
          password_confirmation: tototo
          first_name: Joe
          last_name: Fail
          civility: '0'
          nationality_id: '514205109'
          birthdate: '1973-09-30'
    - response_data:
        base:
        - ! 'Impossible to create user on Leetchi API. Error: {"origin":"remote","message":"Api
          failure","error_code":0,"user_message":"Api failure","type":"SystemError"}'
    - code: '422'
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :POST
    - path: /api/users.json
    - versions:
      - v1
    - query: 
    - request_data:
        user:
          email: user@gmail.com
          password: password
          password_confirmation: password
          first_name: John
          last_name: Doe
          civility: '0'
          nationality_id: '514205109'
          birthdate: '1973-01-01'
    - response_data:
        user:
          id: 973902417
          email: user@gmail.com
          first_name: John
          last_name: Doe
          auth_token: cpKFgt14qTpF9Dyq9iAB
          phones: []
          addresses: []
    - code: '201'
    - show_in_doc: 1
    - recorded: true
- sessions#create:
  - !omap
    - verb: :POST
    - path: /api/users/sign_in.json
    - versions:
      - v1
    - query: 
    - request_data:
        email: elarch@gmail.com
        password: invalid
    - response_data:
        error: Invalid email or password.
    - code: '401'
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :POST
    - path: /api/users/sign_in.json
    - versions:
      - v1
    - query: 
    - request_data:
        email: elarch@gmail.com
        password: tototo
    - response_data:
        auth_token: 6cuBqo1VSzgqBesvneHp
    - code: '200'
    - show_in_doc: 1
    - recorded: true
- sessions#destroy:
  - !omap
    - verb: :POST
    - path: /api/users/sign_out.json
    - versions:
      - v1
    - query: 
    - request_data:
        email: invalid
    - response_data:
        error: Invalid email or password.
    - code: '401'
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :POST
    - path: /api/users/sign_out.json
    - versions:
      - v1
    - query: 
    - request_data:
        email: elarch@gmail.com
    - response_data: {}
    - code: '200'
    - show_in_doc: 1
    - recorded: true
- users#destroy:
  - !omap
    - verb: :DELETE
    - path: /api/users/745494609.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data: 
    - code: '204'
    - show_in_doc: 1
    - recorded: true
- users#show:
  - !omap
    - verb: 
    - path: 
    - versions:
      - v1
    - query: 
    - request_data: 
    - response_data: 
    - code: 
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: 
    - path: 
    - versions:
      - v1
    - query: 
    - request_data: 
    - response_data: 
    - code: 
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :GET
    - path: /api/users/745494609.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
        error: Invalid api key
    - code: '401'
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :GET
    - path: /api/users/745494609.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
        error: Invalid api key
    - code: '401'
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :GET
    - path: /api/users/745494609.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
        user:
          id: 745494609
          email: elarch@gmail.com
          first_name: Eric
          last_name: Larchevêque
          auth_token: 
          phones:
          - id: 417264221
            number: 0940404040
            line_type: 0
            address_id: 480832711
          - id: 752488298
            number: 0646403619
            line_type: 1
            address_id: 
          addresses:
          - id: 480832711
            code_name: Chateau
            address1: 14 bd du Chateau
            zip: '92200'
            city: Neuilly
            country: France
            is_default: 1
            phones:
            - id: 417264221
              number: 0940404040
              line_type: 0
    - code: '200'
    - show_in_doc: 1
    - recorded: true
  - !omap
    - verb: :GET
    - path: /api/users/745494609.json
    - versions:
      - v1
    - query: ''
    - request_data: 
    - response_data:
        user:
          id: 745494609
          email: elarch@gmail.com
          first_name: Eric
          last_name: Larchevêque
          auth_token: 
          phones:
          - id: 417264221
            number: 0940404040
            line_type: 0
            address_id: 480832711
          - id: 752488298
            number: 0646403619
            line_type: 1
            address_id: 
          addresses:
          - id: 480832711
            code_name: Chateau
            address1: 14 bd du Chateau
            zip: '92200'
            city: Neuilly
            country: France
            is_default: 1
            phones:
            - id: 417264221
              number: 0940404040
              line_type: 0
    - code: '200'
    - show_in_doc: 0
    - recorded: true
- users#update:
  - !omap
    - verb: :PUT
    - path: /api/users/745494609.json
    - versions:
      - v1
    - query: 
    - request_data:
        user:
          email: toto
    - response_data:
        email:
        - is invalid
    - code: '422'
    - show_in_doc: 0
    - recorded: true
  - !omap
    - verb: :PUT
    - path: /api/users/745494609.json
    - versions:
      - v1
    - query: 
    - request_data:
        user:
          first_name: Peter
    - response_data: 
    - code: '204'
    - show_in_doc: 1
    - recorded: true
